$(function(){function f(){for(var r,i=!1,n=1;n<t;++n)r=u(n),r==-1&&(i=!0);$("#formElem").data("errors",i)}function u(n){var i,r,u,f;if(n!=t)return i=1,r=!1,$("#formElem").children(":nth-child("+parseInt(n)+")").find(":input:not(button)").each(function(){var n=$(this),t=jQuery.trim(n.val()).length;t==""?(r=!0,n.css("background-color","#FFEDEF")):n.css("background-color","#FFFFFF")}),u=$("#navigation li:nth-child("+parseInt(n)+") a"),u.parent().find(".error,.checked").remove(),f="checked",r&&(i=-1,f="error"),$('<span class="'+f+'"><\/span>').insertAfter(u),i}var t=$("#formElem").children().length,n=1,i=0,r=[];$("#steps .step").each(function(n){var t=$(this);r[n]=i;i+=t.width()});$("#steps").width(i);$("#formElem").children(":first").find(":input:first").focus();$("#navigation").show();$("#navigation a").bind("click",function(i){var e=$(this),o=n;e.closest("ul").find("li").removeClass("selected");e.parent().addClass("selected");n=e.parent().index()+1;$("#steps").stop().animate({marginLeft:"-"+r[n-1]+"px"},500,function(){n==t?f():u(o);$("#formElem").children(":nth-child("+parseInt(n)+")").find(":input:first").focus()});i.preventDefault()});$("#formElem > fieldset").each(function(){var t=$(this);t.children(":last").find(":input").keydown(function(t){t.which==9&&($("#navigation li:nth-child("+(parseInt(n)+1)+") a").click(),$(this).blur(),t.preventDefault())})});$("#registerButton").bind("click",function(){if($("#formElem").data("errors"))return alert("Please correct the errors in the Form"),!1})})