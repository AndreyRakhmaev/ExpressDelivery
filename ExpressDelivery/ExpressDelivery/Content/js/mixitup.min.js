(function(n){function t(t,r,f,o,s){function d(){var n,t;c.unbind("webkitTransitionEnd transitionend otransitionend oTransitionEnd");r&&i(r,f,o,s);s.startOrder=[];s.newOrder=[];s.origSort=[];s.checkSort=[];b.removeStyle(s.prefix+"filter, filter, "+s.prefix+"transform, transform, opacity, display").css(s.clean).removeAttr("data-checksum");window.atob||b.css({display:"none",opacity:"0"});n=s.resizeContainer?"height":"";c.removeStyle(s.prefix+"transition, transition, "+s.prefix+"perspective, perspective, "+s.prefix+"perspective-origin, perspective-origin, "+n);s.layoutMode=="list"?(l.css({display:s.targetDisplayList,opacity:"1"}),s.origDisplay=s.targetDisplayList):(l.css({display:s.targetDisplayGrid,opacity:"1"}),s.origDisplay=s.targetDisplayGrid);s.origLayout=s.layoutMode;t=setTimeout(function(){if(b.removeStyle(s.prefix+"transition, transition"),s.mixing=!1,typeof s.onMixEnd=="function"){var n=s.onMixEnd.call(this,s);s=n?n:s}})}var rt,a,nt,b,c,tt,it,g,y,ft;for(clearInterval(s.failsafe),s.mixing=!0,s.filter=t,typeof s.onMixStart=="function"&&(rt=s.onMixStart.call(this,s),s=rt?rt:s),a=s.transitionSpeed,g=0;g<2;g++)y=g==0?y=s.prefix:"",s.transition[y+"transition"]="all "+a+"ms linear",s.transition[y+"transform"]=y+"translate3d(0,0,0)",s.perspective[y+"perspective"]=s.perspectiveDistance+"px",s.perspective[y+"perspective-origin"]=s.perspectiveOrigin;nt=s.targetSelector;b=o.find(nt);b.each(function(){this.data={}});c=b.parent();c.css(s.perspective);s.easingFallback="ease-in-out";s.easing=="smooth"&&(s.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)");s.easing=="snap"&&(s.easing="cubic-bezier(0.77, 0, 0.175, 1)");s.easing=="windback"&&(s.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",s.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)");s.easing=="windup"&&(s.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",s.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)");tt=s.layoutMode=="list"&&s.listEffects!=null?s.listEffects:s.effects;Array.prototype.indexOf&&(s.fade=tt.indexOf("fade")>-1?"0":"",s.scale=tt.indexOf("scale")>-1?"scale(.01)":"",s.rotateZ=tt.indexOf("rotateZ")>-1?"rotate(180deg)":"",s.rotateY=tt.indexOf("rotateY")>-1?"rotateY(90deg)":"",s.rotateX=tt.indexOf("rotateX")>-1?"rotateX(90deg)":"",s.blur=tt.indexOf("blur")>-1?"blur(8px)":"",s.grayscale=tt.indexOf("grayscale")>-1?"grayscale(100%)":"");var l=n(),p=n(),w=[],ut=!1;typeof t=="string"?w=u(t):(ut=!0,n.each(t,function(n){w[n]=u(this)}));s.filterLogic=="or"?(w[0]==""&&w.shift(),w.length<1?p=p.add(o.find(nt+":visible")):b.each(function(){var t=n(this),i;ut?(i=0,n.each(w,function(){this.length?t.is("."+this.join(", ."))&&i++:i>0&&i++}),i==w.length?l=l.add(t):p=p.add(t)):t.is("."+w.join(", ."))?l=l.add(t):p=p.add(t)})):(l=l.add(c.find(nt+"."+w.join("."))),p=p.add(c.find(nt+":not(."+w.join(".")+"):visible")));var et=l.length,k=n(),v=n(),h=n();if(p.each(function(){var t=n(this);t.css("display")!="none"&&(k=k.add(t),h=h.add(t))}),l.filter(":visible").length==et&&!k.length&&!r){if(s.origLayout==s.layoutMode)return d(),!1;if(l.length==1)return s.layoutMode=="list"?(o.addClass(s.listClass),o.removeClass(s.gridClass),h.css("display",s.targetDisplayList)):(o.addClass(s.gridClass),o.removeClass(s.listClass),h.css("display",s.targetDisplayGrid)),d(),!1}if(s.origHeight=c.height(),l.length){if(o.removeClass(s.failClass),l.each(function(){var t=n(this);t.css("display")=="none"?v=v.add(t):h=h.add(t)}),s.origLayout!=s.layoutMode&&s.animateGridList==!1)return s.layoutMode=="list"?(o.addClass(s.listClass),o.removeClass(s.gridClass),h.css("display",s.targetDisplayList)):(o.addClass(s.gridClass),o.removeClass(s.listClass),h.css("display",s.targetDisplayGrid)),d(),!1;if(!window.atob||(b.css(s.clean),h.each(function(){this.data.origPos=n(this).offset()}),s.layoutMode=="list"?(o.addClass(s.listClass),o.removeClass(s.gridClass),v.css("display",s.targetDisplayList)):(o.addClass(s.gridClass),o.removeClass(s.listClass),v.css("display",s.targetDisplayGrid)),v.each(function(){this.data.showInterPos=n(this).offset()}),k.each(function(){this.data.hideInterPos=n(this).offset()}),h.each(function(){this.data.preInterPos=n(this).offset()}),s.layoutMode=="list"?h.css("display",s.targetDisplayList):h.css("display",s.targetDisplayGrid),r&&i(r,f,o,s),r&&e(s.origSort,s.checkSort)))return d(),!1;for(k.hide(),v.each(function(){this.data.finalPos=n(this).offset()}),h.each(function(){this.data.finalPrePos=n(this).offset()}),s.newHeight=c.height(),r&&i("reset",null,o,s),v.hide(),h.css("display",s.origDisplay),s.origDisplay=="block"?(o.addClass(s.listClass),v.css("display",s.targetDisplayList)):(o.removeClass(s.listClass),v.css("display",s.targetDisplayGrid)),s.resizeContainer&&c.css("height",s.origHeight+"px"),it={},g=0;g<2;g++)y=g==0?y=s.prefix:"",it[y+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,it[y+"filter"]=s.blur+" "+s.grayscale;v.css(it);h.each(function(){var t=this.data,f=n(this),r,i,u;for(f.hasClass("mix_tohide")?(t.preTX=t.origPos.left-t.hideInterPos.left,t.preTY=t.origPos.top-t.hideInterPos.top):(t.preTX=t.origPos.left-t.preInterPos.left,t.preTY=t.origPos.top-t.preInterPos.top),r={},i=0;i<2;i++)u=i==0?u=s.prefix:"",r[u+"transform"]="translate("+t.preTX+"px,"+t.preTY+"px)";f.css(r)});s.layoutMode=="list"?(o.addClass(s.listClass),o.removeClass(s.gridClass)):(o.addClass(s.gridClass),o.removeClass(s.listClass));ft=setTimeout(function(){var u,r,i,t;if(s.resizeContainer){for(u={},i=0;i<2;i++)t=i==0?t=s.prefix:"",u[t+"transition"]="all "+a+"ms ease-in-out",u.height=s.newHeight+"px";c.css(u)}for(k.css("opacity",s.fade),v.css("opacity",1),v.each(function(){var i=this.data,r,u,t;for(i.tX=i.finalPos.left-i.showInterPos.left,i.tY=i.finalPos.top-i.showInterPos.top,r={},u=0;u<2;u++)t=u==0?t=s.prefix:"",r[t+"transition-property"]=t+"transform, "+t+"filter, opacity",r[t+"transition-timing-function"]=s.easing+", linear, linear",r[t+"transition-duration"]=a+"ms",r[t+"transition-delay"]="0",r[t+"transform"]="translate("+i.tX+"px,"+i.tY+"px)",r[t+"filter"]="none";n(this).css("-webkit-transition","all "+a+"ms "+s.easingFallback).css(r)}),h.each(function(){var t=this.data,i,r,u;for(t.tX=t.finalPrePos.left!=0?t.finalPrePos.left-t.preInterPos.left:0,t.tY=t.finalPrePos.left!=0?t.finalPrePos.top-t.preInterPos.top:0,i={},r=0;r<2;r++)u=r==0?u=s.prefix:"",i[u+"transition"]="all "+a+"ms "+s.easing,i[u+"transform"]="translate("+t.tX+"px,"+t.tY+"px)";n(this).css("-webkit-transition","all "+a+"ms "+s.easingFallback).css(i)}),r={},i=0;i<2;i++)t=i==0?t=s.prefix:"",r[t+"transition"]="all "+a+"ms "+s.easing+", "+t+"filter "+a+"ms linear, opacity "+a+"ms linear",r[t+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,r[t+"filter"]=s.blur+" "+s.grayscale,r.opacity=s.fade;k.css(r);c.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(t){(t.originalEvent.propertyName.indexOf("transform")>-1||t.originalEvent.propertyName.indexOf("opacity")>-1)&&(nt.indexOf(".")>-1?n(t.target).hasClass(nt.replace(".",""))&&d():n(t.target).is(nt)&&d())})},10);s.failsafe=setTimeout(function(){s.mixing&&d()},a+400)}else{if(s.resizeContainer&&c.css("height",s.origHeight+"px"),!window.atob)return d(),!1;k=p;ft=setTimeout(function(){var r,u,i,n,t;if(c.css(s.perspective),s.resizeContainer){for(r={},n=0;n<2;n++)t=n==0?t=s.prefix:"",r[t+"transition"]="height "+a+"ms ease-in-out",r.height=s.minHeight+"px";c.css(r)}if(b.css(s.transition),u=p.length,u){for(i={},n=0;n<2;n++)t=n==0?t=s.prefix:"",i[t+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,i[t+"filter"]=s.blur+" "+s.grayscale,i.opacity=s.fade;k.css(i);c.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(n){(n.originalEvent.propertyName.indexOf("transform")>-1||n.originalEvent.propertyName.indexOf("opacity")>-1)&&(o.addClass(s.failClass),d())})}else s.mixing=!1},10)}}function i(t,i,r,u){function o(n,i){var r=isNaN(n.attr(t)*1)?n.attr(t).toLowerCase():n.attr(t)*1,u=isNaN(i.attr(t)*1)?i.attr(t).toLowerCase():i.attr(t)*1;return r<u?-1:r>u?1:0}function e(n){i=="asc"?f.prepend(n).prepend(" "):f.append(n).append(" ")}function s(n){for(var t=n.slice(),u=t.length,i=u,r,f;i--;)r=parseInt(Math.random()*u),f=t[i],t[i]=t[r],t[r]=f;return t}r.find(u.targetSelector).wrapAll('<div class="mix_sorter"/>');var f=r.find(".mix_sorter");if(u.origSort.length||f.find(u.targetSelector+":visible").each(function(){n(this).wrap("<s/>");u.origSort.push(n(this).parent().html().replace(/\s+/g,""));n(this).unwrap()}),f.empty(),t=="reset")n.each(u.startOrder,function(){f.append(this).append(" ")});else if(t=="default")n.each(u.origOrder,function(){e(this)});else if(t=="random")u.newOrder.length||(u.newOrder=s(u.startOrder)),n.each(u.newOrder,function(){f.append(this).append(" ")});else if(t=="custom")n.each(i,function(){e(this)});else{if(typeof u.origOrder[0].attr(t)=="undefined")return console.log("No such attribute found. Terminating"),!1;u.newOrder.length||(n.each(u.origOrder,function(){u.newOrder.push(n(this))}),u.newOrder.sort(o));n.each(u.newOrder,function(){e(this)})}u.checkSort=[];f.find(u.targetSelector+":visible").each(function(t){var i=n(this);t==0&&i.attr("data-checksum","1");i.wrap("<s/>");u.checkSort.push(i.parent().html().replace(/\s+/g,""));i.unwrap()});r.find(u.targetSelector).unwrap()}function f(n){for(var i=["Webkit","Moz","O","ms"],t=0;t<i.length;t++)if(i[t]+"Transition"in n.style)return i[t];return"transition"in n.style?"":!1}function e(n,t){if(n.length!=t.length)return!1;for(var i=0;i<t.length;i++)if(n[i].compare&&!n[i].compare(t[i])||n[i]!==t[i])return!1;return!0}function u(t){t=t.replace(/\s{2,}/g," ");var i=t.split(" ");return n.each(i,function(n){this=="all"&&(i[n]="mix_all")}),i[0]==""&&i.shift(),i}var r={init:function(r){return this.each(function(){var u={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",sortOnLoad:!1,multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""},e,l,a,o,s,c,h,v;for(r&&n.extend(u,r),this.config=u,n.support.touch=("ontouchend"in document),n.support.touch&&(u.isTouch=!0,u.resetDelay=350),u.container=n(this),e=u.container,u.prefix=f(e[0]),u.prefix=u.prefix?"-"+u.prefix.toLowerCase()+"-":"",e.find(u.targetSelector).each(function(){u.origOrder.push(n(this))}),u.sortOnLoad&&(n.isArray(u.sortOnLoad)?(l=u.sortOnLoad[0],a=u.sortOnLoad[1],n(u.sortSelector+"[data-sort="+u.sortOnLoad[0]+"][data-order="+u.sortOnLoad[1]+"]").addClass("active")):(n(u.sortSelector+"[data-sort="+u.sortOnLoad+"]").addClass("active"),l=u.sortOnLoad,u.sortOnLoad="desc"),i(l,a,e,u)),o=0;o<2;o++)s=o==0?s=u.prefix:"",u.transition[s+"transition"]="all "+u.transitionSpeed+"ms ease-in-out",u.perspective[s+"perspective"]=u.perspectiveDistance+"px",u.perspective[s+"perspective-origin"]=u.perspectiveOrigin;for(o=0;o<2;o++)s=o==0?s=u.prefix:"",u.clean[s+"transition"]="none";u.layoutMode=="list"?(e.addClass(u.listClass),u.origDisplay=u.targetDisplayList):(e.addClass(u.gridClass),u.origDisplay=u.targetDisplayGrid);u.origLayout=u.layoutMode;c=u.showOnLoad.split(" ");n.each(c,function(){n(u.filterSelector+'[data-filter="'+this+'"]').addClass("active")});e.find(u.targetSelector).addClass("mix_all");c[0]=="all"&&(c[0]="mix_all",u.showOnLoad="mix_all");h=n();n.each(c,function(){h=h.add(n("."+this))});h.each(function(){var t=n(this);u.layoutMode=="list"?t.css("display",u.targetDisplayList):t.css("display",u.targetDisplayGrid);t.css(u.transition)});v=setTimeout(function(){u.mixing=!0;h.css("opacity","1");var n=setTimeout(function(){if(u.layoutMode=="list"?h.removeStyle(u.prefix+"transition, transition").css({display:u.targetDisplayList,opacity:1}):h.removeStyle(u.prefix+"transition, transition").css({display:u.targetDisplayGrid,opacity:1}),u.mixing=!1,typeof u.onMixLoad=="function"){var n=u.onMixLoad.call(this,u);u=n?n:u}},u.transitionSpeed)},10);u.filter=u.showOnLoad;n(u.sortSelector).bind(u.buttonEvent,function(){if(!u.mixing){var i=n(this),r=i.attr("data-sort"),f=i.attr("data-order");if(i.hasClass("active")){if(r!="random")return!1}else n(u.sortSelector).removeClass("active"),i.addClass("active");e.find(u.targetSelector).each(function(){u.startOrder.push(n(this))});t(u.filter,r,f,e,u)}});n(u.filterSelector).bind(u.buttonEvent,function(){var i,r,f;u.mixing||(i=n(this),u.multiFilter==!1?(n(u.filterSelector).removeClass("active"),i.addClass("active"),u.filter=i.attr("data-filter"),n(u.filterSelector+'[data-filter="'+u.filter+'"]').addClass("active")):(r=i.attr("data-filter"),i.hasClass("active")?(i.removeClass("active"),f=new RegExp("(\\s|^)"+r),u.filter=u.filter.replace(f,"")):(i.addClass("active"),u.filter=u.filter+" "+r)),t(u.filter,null,null,e,u))})})},toGrid:function(){return this.each(function(){var i=this.config;i.layoutMode!="grid"&&(i.layoutMode="grid",t(i.filter,null,null,n(this),i))})},toList:function(){return this.each(function(){var i=this.config;i.layoutMode!="list"&&(i.layoutMode="list",t(i.filter,null,null,n(this),i))})},filter:function(i){return this.each(function(){var r=this.config;r.mixing||(n(r.filterSelector).removeClass("active"),n(r.filterSelector+'[data-filter="'+i+'"]').addClass("active"),t(i,null,null,n(this),r))})},sort:function(i){return this.each(function(){var r=this.config,e=n(this),u,f;r.mixing||(n(r.sortSelector).removeClass("active"),n.isArray(i)?(u=i[0],f=i[1],n(r.sortSelector+'[data-sort="'+i[0]+'"][data-order="'+i[1]+'"]').addClass("active")):(n(r.sortSelector+'[data-sort="'+i+'"]').addClass("active"),u=i,f="desc"),e.find(r.targetSelector).each(function(){r.startOrder.push(n(this))}),t(r.filter,u,f,e,r))})},multimix:function(i){return this.each(function(){var r=this.config,u=n(this);multiOut={filter:r.filter,sort:null,order:"desc",layoutMode:r.layoutMode};n.extend(multiOut,i);r.mixing||(n(r.filterSelector).add(r.sortSelector).removeClass("active"),n(r.filterSelector+'[data-filter="'+multiOut.filter+'"]').addClass("active"),typeof multiOut.sort!="undefined"&&(n(r.sortSelector+'[data-sort="'+multiOut.sort+'"][data-order="'+multiOut.order+'"]').addClass("active"),u.find(r.targetSelector).each(function(){r.startOrder.push(n(this))})),r.layoutMode=multiOut.layoutMode,t(multiOut.filter,multiOut.sort,multiOut.order,u,r))})},remix:function(i){return this.each(function(){var r=this.config,u=n(this);r.origOrder=[];u.find(r.targetSelector).each(function(){var t=n(this);t.addClass("mix_all");r.origOrder.push(t)});r.mixing||typeof i=="undefined"||(n(r.filterSelector).removeClass("active"),n(r.filterSelector+'[data-filter="'+i+'"]').addClass("active"),t(i,null,null,u,r))})}};n.fn.mixitup=function(n){return r[n]?r[n].apply(this,Array.prototype.slice.call(arguments,1)):typeof n=="object"||!n?r.init.apply(this,arguments):void 0};n.fn.removeStyle=function(t){return this.each(function(){var r=n(this),i;t=t.replace(/\s+/g,"");i=t.split(",");n.each(i,function(){var n=new RegExp(this.toString()+"[^;]+;?","g");r.attr("style",function(t,i){if(i)return i.replace(n,"")})})})}})(jQuery)