(function(n,t){function i(t,i){this.element=n(t);var f=this;this.options=n.extend({},u,i);this._defaults=u;this._name=r;this.init(f)}var r="mateHover",u={autoSize:"off",inhiritPadding:"on",position:"y",overlayStyle:"classic",rollingPosition:"top",doublePosition:"vertical",fourSpeedIn0:200,fourSpeedOut0:200,fourSpeedIn1:800,fourSpeedOut1:800,fourSpeedIn2:300,fourSpeedOut2:300,fourSpeedIn3:800,fourSpeedOut3:800,overlayBg:"#000",overlaySpeedIn:500,overlaySpeedOut:500,overlayOpacity:.4,overlayEasing:"linear",popupSpeedIn:1e3,popupSpeedOut:500,popupEasing:"swing",between:10,popup2SpeedIn:800,popup2SpeedOut:800,popup2Easing:"swing"};i.prototype.onResize=function(){var t=this,r,i,e,o,u,f;if(this.img=this.element.children("img"),this.popup=this.element.find("[data-zl-popup]"),this.imgWidth=this.img.innerWidth(),this.imgHeight=this.img.innerHeight(),this.options.autoSize==="on"&&this.element.css({width:this.imgWidth,height:this.imgHeight}),this.options.inhiritPadding==="on"?(this.divWidth=this.element.innerWidth(),this.divHeight=this.element.innerHeight()):(this.divWidth=this.element.width(),this.divHeight=this.element.height()),this.calDivWidth=this.divWidth*2,this.calDivHeight=this.divHeight*2,this.divCalWidth=this.divWidth/2,this.divCalHeight=this.divHeight/2,this.divCalWidth2=this.divWidth/4,this.divCalHeight2=this.divHeight/4,this.popupWidth=this.popup.outerWidth(),this.popupHeight=this.popup.outerHeight(),this.calPopWidth=this.popupWidth*2,this.calPopHeight=this.popupHeight*2,this.coorW=this.divCalWidth-this.popupWidth/2,this.coorH=this.divCalHeight-this.popupHeight/2,this.count_pop=this.popup.length,this.count_pop_label=0,this.count_pop>1&&(this.count_pop_label=1,this.popup1=this.popup.eq(0),this.popup2=this.popup.eq(1),this.popup1Width=this.popup1.outerWidth(),this.popup2Width=this.popup2.outerWidth(),this.popup1Height=this.popup1.outerHeight(),this.popup2Height=this.popup2.outerHeight(),this.calPop1Width=this.popup1Width*2,this.calPop1Height=this.popup1Height*2,this.calPop2Width=this.popup2Width*2,this.calPop2Height=this.popup2Height*2,this.coor1W=this.divCalWidth-this.popup1Width/2-this.popup2Width/2-this.options.between,this.coor1H=this.divCalHeight-this.popup1Height/2,this.coor2W=this.divCalWidth-this.popup2Width/2-this.popup1Width/2-this.options.between,this.coor2H=this.divCalHeight-this.popup2Height/2),this.over_pos={plus:{},minus:{}},this.over_pos.plus[this.options.rollingPosition]=this.options.rollingPosition==="top"||this.options.rollingPosition==="bottom"?-this.divHeight-10:-this.divWidth-10,this.over_pos.minus[this.options.rollingPosition]=0,this.over_double_pos={position0:{},position1:{},minus:{},fly_coor:{top_left:{},bottom_right:{}}},this.over_fly_out={fly_coor:{top_left:{},bottom_right:{}}},this.options.doublePosition==="vertical"?(this.over_double_pos.position0.top=-this.divHeight,this.over_double_pos.position1.bottom=-this.divHeight,this.over_double_pos.minus.left=0,this.over_double_pos.position0.height="50%",this.over_double_pos.position0.width="100%",this.over_double_pos.position1.height="50%",this.over_double_pos.position1.width="100%",this.over_double_pos.fly_coor.top_left.top=0,this.over_double_pos.fly_coor.bottom_right.bottom=0,this.over_fly_out.fly_coor.top_left.top=-this.divHeight,this.over_fly_out.fly_coor.bottom_right.bottom=-this.divHeight):(this.over_double_pos.position0.left=-this.divWidth,this.over_double_pos.position1.right=-this.divWidth,this.over_double_pos.minus.top=0,this.over_double_pos.position0.height="100%",this.over_double_pos.position0.width="50%",this.over_double_pos.position1.height="100%",this.over_double_pos.position1.width="50%",this.over_double_pos.fly_coor.top_left.left=0,this.over_double_pos.fly_coor.bottom_right.right=0,this.over_fly_out.fly_coor.top_left.left=-this.divWidth,this.over_fly_out.fly_coor.bottom_right.right=-this.divWidth),this.options.overlayStyle==="four")for(this.over_four={inn:{},out:{}},r=0;r<=3;r++)this.over_four.inn["speed"+r]=this.options["fourSpeedIn"+r],this.over_four.out["speed"+r]=this.options["fourSpeedOut"+r];switch(this.options.position){case"y":this.startPosition("y",this.count_pop_label);break;case"y-reverse":this.startPosition("y-reverse",this.count_pop_label);break;case"x":this.startPosition("x",this.count_pop_label);break;case"x-reverse":this.startPosition("x-reverse",this.count_pop_label);break;case"y+i":this.startPosition("y+i",this.count_pop_label);break;case"y+i-reverse":this.startPosition("y+i-reverse",this.count_pop_label);break;case"x+i":this.startPosition("x+i",this.count_pop_label);break;case"x+i-reverse":this.startPosition("x+i-reverse",this.count_pop_label);break;default:console.log("Wrong position properties(START POPUP POSITION)")}this.pos={};switch(this.options.position){case"y":this.flyPosition("y",this.count_pop_label);break;case"y-reverse":this.flyPosition("y-reverse",this.count_pop_label);break;case"y+i":this.flyPosition("y+i",this.count_pop_label);break;case"y+i-reverse":this.flyPosition("y+i-reverse",this.count_pop_label);break;case"x":this.flyPosition("x",this.count_pop_label);break;case"x+i":this.flyPosition("x+i",this.count_pop_label);break;case"x-reverse":this.flyPosition("x-reverse",this.count_pop_label);break;case"x+i-reverse":this.flyPosition("x+i-reverse",this.count_pop_label);break;default:console.log("Wrong position properties(FLY POPUP POSITION)")}e=this.options.rollingPosition==="top"||this.options.rollingPosition==="bottom"?"left":"top";o=this.options.doublePosition==="vertical"?"left":"top";this.element.find("[data-zl-overlay],[data-zl-ovrolling],[data-zl-ovdouble0],[data-zl-ovdouble1],[data-zl-ovzoom0],[data-zl-ovzoom1],[data-zl-ovzoom2],[data-zl-ovzoom3]").remove();switch(this.options.overlayStyle){case"classic":i=n('<div data-zl-overlay="zl_overlay_'+t.element.attr("data-zlname")+'"><\/div>').css("background",t.options.overlayBg);t.element.prepend(i);break;case"four":for(u=0;u<=3;u++)i=n("<div data-zl-ovzoom"+u+'="zl_overlay_'+t.element.attr("data-zlname")+'"><\/div>').css({background:t.options.overlayBg,top:-this.divHeight,left:this.divCalWidth2*u}).fadeTo(100,this.options.overlayOpacity),t.element.prepend(i);break;case"rolling":i=n('<div data-zl-ovrolling="zl_overlay_'+t.element.attr("data-zlname")+'" style="background:'+t.options.overlayBg+";"+e+':0;"><\/div>').css(this.over_pos.plus).fadeTo(100,this.options.overlayOpacity);t.element.prepend(i);break;case"double":for(f=0;f<=1;f++)i=n("<div data-zl-ovdouble"+f+'="zl_overlay_'+t.element.attr("data-zlname")+'" style="background:'+t.options.overlayBg+";"+o+':0;"><\/div>').css(this.over_double_pos["position"+f]).fadeTo(100,this.options.overlayOpacity),t.element.prepend(i)}};i.prototype.startPosition=function(n,t){n==="y"&&t===0||n==="y+i"&&t===0?this.popup.css({left:this.coorW,top:-this.calPopHeight}):n==="y-reverse"&&t===0||n==="y+i-reverse"&&t===0?this.popup.css({left:this.coorW,bottom:-this.calPopHeight}):n==="x-reverse"&&t===0||n==="x+i-reverse"&&t===0?this.popup.css({top:this.coorH,right:-this.calPopWidth}):n==="x"&&t===0||n==="x+i"&&t===0?this.popup.css({top:this.coorH,left:-this.calPopWidth}):n==="y"&&t===1||n==="y+i"&&t===1?(this.popup1.css({left:this.coor1W,top:-this.calPop1Height}),this.popup2.css({right:this.coor2W,top:-this.calPop2Height})):n==="y-reverse"&&t===1||n==="y+i-reverse"&&t===1?(this.popup1.css({left:this.coor1W,bottom:-this.calPop1Height}),this.popup2.css({right:this.coor2W,bottom:-this.calPop2Height})):n==="x-reverse"&&t===1||n==="x+i-reverse"&&t===1?(this.popup1.css({top:this.coor1H,right:-this.calPop1Width}),this.popup2.css({top:this.coor2H,left:-this.calPop2Width})):(n==="x"&&t===1||n==="x+i"&&t===1)&&(this.popup1.css({top:this.coor1H,left:-this.calPop1Width}),this.popup2.css({top:this.coor2H,right:-this.calPop2Width}))};i.prototype.flyPosition=function(n,t){n==="y"&&t===0?(this.pos.anime_enter={top:this.coorH},this.pos.anime_leave={top:-this.calPopHeight},this.pos.back_css={display:"none",top:-this.calPopHeight}):n==="y-reverse"&&t===0?(this.pos.anime_enter={bottom:this.coorH},this.pos.anime_leave={bottom:-this.calPopHeight},this.pos.back_css={display:"none",bottom:-this.calPopHeight}):n==="y+i-reverse"&&t===0?(this.pos.anime_enter={bottom:this.coorH},this.pos.anime_leave={bottom:this.calDivHeight},this.pos.back_css={display:"none",bottom:-this.calPopHeight}):n==="y+i"&&t===0?(this.pos.anime_enter={top:this.coorH},this.pos.anime_leave={top:this.calDivHeight},this.pos.back_css={display:"none",top:-this.calPopHeight}):n==="x"&&t===0?(this.pos.anime_enter={left:this.coorW},this.pos.anime_leave={left:-this.calPopWidth},this.pos.back_css={display:"none",left:-this.calPopWidth}):n==="x+i"&&t===0?(this.pos.anime_enter={left:this.coorW},this.pos.anime_leave={left:this.calDivWidth},this.pos.back_css={display:"none",left:-this.calPopWidth}):n==="x-reverse"&&t===0?(this.pos.anime_enter={right:this.coorW},this.pos.anime_leave={right:-this.calPopWidth},this.pos.back_css={display:"none",right:-this.calPopWidth}):n==="x+i-reverse"&&t===0?(this.pos.anime_enter={right:this.coorW},this.pos.anime_leave={right:this.calDivWidth},this.pos.back_css={display:"none",right:-this.calPopWidth}):n==="y"&&t===1?(this.pos.anime_enter={top:this.coor1H},this.pos.anime_leave={top:-this.calPop1Height},this.pos.back_css={display:"none",top:-this.calPop1Height},this.pos.anime_enter2={top:this.coor2H},this.pos.anime_leave2={top:-this.calPop2Height},this.pos.back_css2={display:"none",top:-this.calPop2Height}):n==="y-reverse"&&t===1?(this.pos.anime_enter={bottom:this.coor1H},this.pos.anime_leave={bottom:-this.calPop1Height},this.pos.back_css={display:"none",bottom:-this.calPop1Height},this.pos.anime_enter2={bottom:this.coor2H},this.pos.anime_leave2={bottom:-this.calPop2Height},this.pos.back_css2={display:"none",bottom:-this.calPop2Height}):n==="y+i-reverse"&&t===1?(this.pos.anime_enter={bottom:this.coor1H},this.pos.anime_leave={bottom:this.calDivHeight},this.pos.back_css={display:"none",bottom:-this.calPop1Height},this.pos.anime_enter2={bottom:this.coor2H},this.pos.anime_leave2={bottom:this.calDivHeight},this.pos.back_css2={display:"none",bottom:-this.calPop2Height}):n==="y+i"&&t===1?(this.pos.anime_enter={top:this.coor1H},this.pos.anime_leave={top:this.calDivHeight},this.pos.back_css={display:"none",top:-this.calPop1Height},this.pos.anime_enter2={top:this.coor2H},this.pos.anime_leave2={top:this.calDivHeight},this.pos.back_css2={display:"none",top:-this.calPop2Height}):n==="x"&&t===1?(this.pos.anime_enter={left:this.coor1W},this.pos.anime_leave={left:-this.calPop1Width},this.pos.back_css={display:"none",left:-this.calPop1Width},this.pos.anime_enter2={right:this.coor2W},this.pos.anime_leave2={right:-this.calPop2Width},this.pos.back_css2={display:"none",right:-this.calPop2Width}):n==="x-reverse"&&t===1?(this.pos.anime_enter={right:this.coor1W},this.pos.anime_leave={right:-this.calPop1Width},this.pos.back_css={display:"none",right:-this.calPop1Width},this.pos.anime_enter2={left:this.coor2W},this.pos.anime_leave2={left:-this.calPop2Width},this.pos.back_css2={display:"none",left:-this.calPop2Width}):n==="x+i"&&t===1?(this.pos.anime_enter={left:this.coor1W},this.pos.anime_leave={left:this.calDivWidth},this.pos.back_css={display:"none",left:-this.calPop1Width},this.pos.anime_enter2={right:this.coor2W},this.pos.anime_leave2={right:this.calDivWidth},this.pos.back_css2={display:"none",right:-this.calPop2Width}):n==="x+i-reverse"&&t===1&&(this.pos.anime_enter={right:this.coor1W},this.pos.anime_leave={right:this.calDivWidth},this.pos.back_css={display:"none",right:-this.calPop1Width},this.pos.anime_enter2={left:this.coor2W},this.pos.anime_leave2={left:this.calDivWidth},this.pos.back_css2={display:"none",left:-this.calPop2Width})};i.prototype.overlayGet=function(n,t,i,r,u){var f,e;switch(t){case"classic":n.element.children("[data-zl-overlay]").stop(!0).fadeTo(i,r,n.options.overlayEasing);break;case"four":f=0;for(e in i)n.element.children("[data-zl-ovzoom"+f+"]").stop(!0).animate({top:u},i[e],n.options.overlayEasing),f++;break;case"rolling":n.element.children("[data-zl-ovrolling]").css("display","block").stop(!0).animate(u,i,n.options.overlayEasing);break;case"double":n.element.children("[data-zl-ovdouble0]").css("display","block").stop(!0).animate(u.top_left,i,n.options.overlayEasing);n.element.children("[data-zl-ovdouble1]").css("display","block").stop(!0).animate(u.bottom_right,i,n.options.overlayEasing)}};i.prototype.hover=function(n,t){this.element.on({mouseenter:function(){switch(t){case 0:n.popup.css(n.pos.back_css).css("display","block").stop(!0).animate(n.pos.anime_enter,n.options.popupSpeedIn,n.options.popupEasing);switch(n.options.overlayStyle){case"classic":n.overlayGet(n,"classic",n.options.overlaySpeedIn,n.options.overlayOpacity,0);break;case"four":n.overlayGet(n,"four",n.over_four.inn,0,n.divHeight);break;case"rolling":n.overlayGet(n,"rolling",n.options.overlaySpeedIn,n.options.overlayOpacity,n.over_pos.minus);break;case"double":n.overlayGet(n,"double",n.options.overlaySpeedIn,n.options.overlayOpacity,n.over_double_pos.fly_coor)}break;case 1:n.popup1.css(n.pos.back_css).css("display","block").stop(!0).animate(n.pos.anime_enter,n.options.popupSpeedIn,n.options.popupEasing).siblings("[data-zl-popup]").css(n.pos.back_css2).css("display","block").stop(!0).animate(n.pos.anime_enter2,n.options.popup2SpeedIn,n.options.popup2Easing);switch(n.options.overlayStyle){case"classic":n.overlayGet(n,"classic",n.options.overlaySpeedIn,n.options.overlayOpacity,0);break;case"four":n.overlayGet(n,"four",n.over_four.inn,0,n.divHeight);break;case"rolling":n.overlayGet(n,"rolling",n.options.overlaySpeedIn,n.options.overlayOpacity,n.over_pos.minus);break;case"double":n.overlayGet(n,"double",n.options.overlaySpeedIn,n.options.overlayOpacity,n.over_double_pos.fly_coor)}}},mouseleave:function(){switch(t){case 0:n.popup.stop(!0).animate(n.pos.anime_leave,n.options.popupSpeedOut,n.options.popupEasing).children("input").blur();switch(n.options.overlayStyle){case"classic":n.overlayGet(n,"classic",n.options.overlaySpeedOut,0,0);break;case"four":n.overlayGet(n,"four",n.over_four.out,0,-n.divHeight);break;case"rolling":n.overlayGet(n,"rolling",n.options.overlaySpeedOut,0,n.over_pos.plus);break;case"double":n.overlayGet(n,"double",n.options.overlaySpeedOut,0,n.over_fly_out.fly_coor)}break;case 1:n.popup1.stop(!0,!0).animate(n.pos.anime_leave,n.options.popupSpeedOut,n.options.popupEasing).children("input").blur().end().siblings("[data-zl-popup]").stop(!0,!0).animate(n.pos.anime_leave2,n.options.popup2SpeedOut,n.options.popup2Easing).children("input").blur();switch(n.options.overlayStyle){case"classic":n.overlayGet(n,"classic",n.options.overlaySpeedOut,0,0);break;case"four":n.overlayGet(n,"four",n.over_four.out,0,-n.divHeight);break;case"rolling":n.overlayGet(n,"rolling",n.options.overlaySpeedOut,0,n.over_pos.plus);break;case"double":n.overlayGet(n,"double",n.options.overlaySpeedOut,0,n.over_fly_out.fly_coor)}}}})};i.prototype.init=function(i){n(t).resize(n.proxy(this,"onResize"));this.onResize();this.hover(i,this.count_pop_label)};n.fn[r]=function(t){return this.each(function(){n.data(this,"plugin_"+r)||n.data(this,"plugin_"+r,new i(this,t))})}})(jQuery,window,document)